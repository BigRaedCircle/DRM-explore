# –ü—Ä–æ–≥—Ä–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ ‚Äî –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (100%)

1. **VirtualClock** ‚Äî –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –≤—Ä–µ–º–µ–Ω–∏ ‚úÖ
2. **SimpleEmulator** ‚Äî –±–∞–∑–æ–≤–∞—è —ç–º—É–ª—è—Ü–∏—è CPU ‚úÖ
3. **PELoader** ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ PE –≤ –ø–∞–º—è—Ç—å ‚úÖ
4. **WinAPIStubs** ‚Äî –∑–∞–≥–ª—É—à–∫–∏ API (–≥–æ—Ç–æ–≤—ã, –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã) ‚úÖ

## üöß –¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞

**PE-—Ñ–∞–π–ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã** (GetTickCount64, printf –∏ —Ç.–¥.)
- –ö–æ–¥ –ø—ã—Ç–∞–µ—Ç—Å—è –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ Import Address Table (IAT)
- IAT —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ unmapped –∞–¥—Ä–µ—Å–∞ ‚Üí crash

## üéØ –î–≤–∞ –ø—É—Ç–∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—É—Ç—å A: –ü–æ–ª–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è PE (—Å–ª–æ–∂–Ω–æ, –¥–æ–ª–≥–æ)
1. –ü–∞—Ä—Å–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –∏–º–ø–æ—Ä—Ç–æ–≤
2. –°–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–≥–ª—É—à–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
3. –ü–∞—Ç—á–∏—Ç—å IAT –Ω–∞ –∞–¥—Ä–µ—Å–∞ –∑–∞–≥–ª—É—à–µ–∫
4. –≠–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é CRT

**–í—Ä–µ–º—è**: 2-4 —á–∞—Å–∞  
**–†–∏—Å–∫**: –ú–Ω–æ–≥–æ edge cases

### –ü—É—Ç—å B: –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π —Ç–µ—Å—Ç (–±—ã—Å—Ç—Ä–æ, –¥–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏—é) ‚≠ê
1. –°–æ–∑–¥–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥ –±–µ–∑ WinAPI
2. –¢–æ–ª—å–∫–æ RDTSC + –ø—Ä–æ—Å—Ç–æ–π —Ü–∏–∫–ª
3. –î–æ–∫–∞–∑–∞—Ç—å: VirtualClock —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —ç–º—É–ª—è—Ü–∏–∏
4. –ü–æ—Ç–æ–º –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ–ª–Ω–æ–º—É PE

**–í—Ä–µ–º—è**: 30 –º–∏–Ω—É—Ç  
**–†–∏—Å–∫**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π

## üìä –†–µ—à–µ–Ω–∏–µ: –ü—É—Ç—å B

**–ü–æ—á–µ–º—É?** –ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî –¥–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ü–µ–ø—Ü–∏—é —Ä–∞—Å—Å–ª–æ–µ–Ω–Ω–æ–π —ç–º—É–ª—è—Ü–∏–∏:
- VirtualClock —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Ç–∞–π–º–µ—Ä—ã ‚úÖ
- SimpleEmulator –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç VirtualClock ‚úÖ
- –ö–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏ –≤–∏–¥–∏—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ –≤—Ä–µ–º—è üöß

–ü–æ–ª–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è PE ‚Äî —ç—Ç–æ "–∏–Ω–∂–µ–Ω–µ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞", –Ω–µ –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ä—ã–≤.

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (30 –º–∏–Ω)

1. –°–æ–∑–¥–∞—Ç—å `minimal_test.c` ‚Äî —á–∏—Å—Ç—ã–π –∫–æ–¥ –±–µ–∑ WinAPI ‚úÖ
2. –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –≤ flat binary –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ–π PE
3. –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤ SimpleEmulator
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å RDTSC
5. **–î–æ–∫–∞–∑–∞—Ç—å**: –≤—Ä–µ–º—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ!

–ü–æ—Ç–æ–º:
6. –î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä (–≥–ª–∞–≤–Ω–∞—è –∏–Ω–Ω–æ–≤–∞—Ü–∏—è!)
7. –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ–ª–Ω–æ–º—É PE (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

## üí° –ò–Ω—Å–∞–π—Ç

–ú—ã –∑–∞—Å—Ç—Ä—è–ª–∏ –Ω–∞ "–¥–µ—Ç–∞–ª—è—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏" (–∏–º–ø–æ—Ä—Ç—ã PE), –∞ –Ω–µ –Ω–∞ "—è–¥—Ä–µ –∏–¥–µ–∏" (—Ä–∞—Å—Å–ª–æ–µ–Ω–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è).

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥**: –î–æ–∫–∞–∑–∞—Ç—å —è–¥—Ä–æ –∏–¥–µ–∏ –Ω–∞ –ø—Ä–æ—Å—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ, –ø–æ—Ç–æ–º —É—Å–ª–æ–∂–Ω—è—Ç—å.

---

**–°—Ç–∞—Ç—É—Å**: –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –ü—É—Ç—å B ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –±–µ–∑ WinAPI
